/*
Notehub API

The OpenAPI definition for the Notehub.io API.

API version: 1.2.0
Contact: engineering@blues.io
*/

// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

package notehub

import (
	"encoding/json"
	"fmt"

	"gopkg.in/validator.v2"
)

// MonitorAlertRoutesInner - struct for MonitorAlertRoutesInner
type MonitorAlertRoutesInner struct {
	EmailNotification        *EmailNotification
	SlackBearerNotification  *SlackBearerNotification
	SlackWebHookNotification *SlackWebHookNotification
}

// EmailNotificationAsMonitorAlertRoutesInner is a convenience function that returns EmailNotification wrapped in MonitorAlertRoutesInner
func EmailNotificationAsMonitorAlertRoutesInner(v *EmailNotification) MonitorAlertRoutesInner {
	return MonitorAlertRoutesInner{
		EmailNotification: v,
	}
}

// SlackBearerNotificationAsMonitorAlertRoutesInner is a convenience function that returns SlackBearerNotification wrapped in MonitorAlertRoutesInner
func SlackBearerNotificationAsMonitorAlertRoutesInner(v *SlackBearerNotification) MonitorAlertRoutesInner {
	return MonitorAlertRoutesInner{
		SlackBearerNotification: v,
	}
}

// SlackWebHookNotificationAsMonitorAlertRoutesInner is a convenience function that returns SlackWebHookNotification wrapped in MonitorAlertRoutesInner
func SlackWebHookNotificationAsMonitorAlertRoutesInner(v *SlackWebHookNotification) MonitorAlertRoutesInner {
	return MonitorAlertRoutesInner{
		SlackWebHookNotification: v,
	}
}

// Unmarshal JSON data into one of the pointers in the struct
func (dst *MonitorAlertRoutesInner) UnmarshalJSON(data []byte) error {
	var err error
	match := 0
	// try to unmarshal data into EmailNotification
	err = newStrictDecoder(data).Decode(&dst.EmailNotification)
	if err == nil {
		jsonEmailNotification, _ := json.Marshal(dst.EmailNotification)
		if string(jsonEmailNotification) == "{}" { // empty struct
			dst.EmailNotification = nil
		} else {
			if err = validator.Validate(dst.EmailNotification); err != nil {
				dst.EmailNotification = nil
			} else {
				match++
			}
		}
	} else {
		dst.EmailNotification = nil
	}

	// try to unmarshal data into SlackBearerNotification
	err = newStrictDecoder(data).Decode(&dst.SlackBearerNotification)
	if err == nil {
		jsonSlackBearerNotification, _ := json.Marshal(dst.SlackBearerNotification)
		if string(jsonSlackBearerNotification) == "{}" { // empty struct
			dst.SlackBearerNotification = nil
		} else {
			if err = validator.Validate(dst.SlackBearerNotification); err != nil {
				dst.SlackBearerNotification = nil
			} else {
				match++
			}
		}
	} else {
		dst.SlackBearerNotification = nil
	}

	// try to unmarshal data into SlackWebHookNotification
	err = newStrictDecoder(data).Decode(&dst.SlackWebHookNotification)
	if err == nil {
		jsonSlackWebHookNotification, _ := json.Marshal(dst.SlackWebHookNotification)
		if string(jsonSlackWebHookNotification) == "{}" { // empty struct
			dst.SlackWebHookNotification = nil
		} else {
			if err = validator.Validate(dst.SlackWebHookNotification); err != nil {
				dst.SlackWebHookNotification = nil
			} else {
				match++
			}
		}
	} else {
		dst.SlackWebHookNotification = nil
	}

	if match > 1 { // more than 1 match
		// reset to nil
		dst.EmailNotification = nil
		dst.SlackBearerNotification = nil
		dst.SlackWebHookNotification = nil

		return fmt.Errorf("data matches more than one schema in oneOf(MonitorAlertRoutesInner)")
	} else if match == 1 {
		return nil // exactly one match
	} else { // no match
		return fmt.Errorf("data failed to match schemas in oneOf(MonitorAlertRoutesInner)")
	}
}

// Marshal data from the first non-nil pointers in the struct to JSON
func (src MonitorAlertRoutesInner) MarshalJSON() ([]byte, error) {
	if src.EmailNotification != nil {
		return json.Marshal(&src.EmailNotification)
	}

	if src.SlackBearerNotification != nil {
		return json.Marshal(&src.SlackBearerNotification)
	}

	if src.SlackWebHookNotification != nil {
		return json.Marshal(&src.SlackWebHookNotification)
	}

	return nil, nil // no data in oneOf schemas
}

// Get the actual instance
func (obj *MonitorAlertRoutesInner) GetActualInstance() interface{} {
	if obj == nil {
		return nil
	}
	if obj.EmailNotification != nil {
		return obj.EmailNotification
	}

	if obj.SlackBearerNotification != nil {
		return obj.SlackBearerNotification
	}

	if obj.SlackWebHookNotification != nil {
		return obj.SlackWebHookNotification
	}

	// all schemas are nil
	return nil
}

// Get the actual instance value
func (obj MonitorAlertRoutesInner) GetActualInstanceValue() interface{} {
	if obj.EmailNotification != nil {
		return *obj.EmailNotification
	}

	if obj.SlackBearerNotification != nil {
		return *obj.SlackBearerNotification
	}

	if obj.SlackWebHookNotification != nil {
		return *obj.SlackWebHookNotification
	}

	// all schemas are nil
	return nil
}

type NullableMonitorAlertRoutesInner struct {
	value *MonitorAlertRoutesInner
	isSet bool
}

func (v NullableMonitorAlertRoutesInner) Get() *MonitorAlertRoutesInner {
	return v.value
}

func (v *NullableMonitorAlertRoutesInner) Set(val *MonitorAlertRoutesInner) {
	v.value = val
	v.isSet = true
}

func (v NullableMonitorAlertRoutesInner) IsSet() bool {
	return v.isSet
}

func (v *NullableMonitorAlertRoutesInner) Unset() {
	v.value = nil
	v.isSet = false
}

func NewNullableMonitorAlertRoutesInner(val *MonitorAlertRoutesInner) *NullableMonitorAlertRoutesInner {
	return &NullableMonitorAlertRoutesInner{value: val, isSet: true}
}

func (v NullableMonitorAlertRoutesInner) MarshalJSON() ([]byte, error) {
	return json.Marshal(v.value)
}

func (v *NullableMonitorAlertRoutesInner) UnmarshalJSON(src []byte) error {
	v.isSet = true
	return json.Unmarshal(src, &v.value)
}
